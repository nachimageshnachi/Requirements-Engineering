@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam activity {
  BackgroundColor White
  BorderColor Black
}

|Train|
start
:Train approaching station;

|Control Center|
:Request train position & speed;

|Signaling|
:Relay data request to Train;

|Train|
:Send position & speed;

|Signaling|
:Receive train data;
:Forward train data to Control Center;

|Control Center|
:Receive train position & speed;

repeat
  :Request platform availability;

  |Signaling|
  :Relay availability request;

  |Train Station|
  :Check platform availability;
  :Send availability status;

  |Signaling|
  :Relay availability status;

  |Control Center|
  if (Platform available?) then (yes)
    :Allocate platform;
    :Issue arrival approval;
    break
  else (no)
    :Issue delay decision;
  endif
backward:Wait for update;
repeat while (Check again?) is (yes)

|Signaling|
:Transmit decision;

fork
  |Train Station|
  :Prepare platform if approved;

fork again
  |Train|
  :React to decision;
end fork

stop
@enduml